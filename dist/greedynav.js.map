{"version":3,"sources":["../src/js/greedynav.js"],"names":["w","DOC","document","NAV","querySelector","VISIBLE_LIST","OVERFLOW_LIST","VIEW_MORE_ITEM","VIEW_MORE_BUTTON","FIXED_BUTTON","SPACE_BETWEEN_ITEMS","BREAK_WIDTHS","numOfItems","totalSpace","childNodes","forEach","node","nodeType","offsetWidth","push","TOTAL_SPACING","availableSpace","numOfVisibleItems","requiredSpace","fitAndAdjust","f","clientWidth","classList","contains","getElementsByTagName","length","insertBefore","lastChild","firstChild","appendChild","dataset","count","add","remove","addEventListener","ev","target","parentNode","toggle","stopPropagation","global","window"],"mappings":"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","file":"greedynav.js","sourcesContent":["/**\r\n * GreedyNav-SASS-VanillaJS - SASS and Vanilla JS version of GreedyNav (https://github.com/lukejacksonn/GreedyNav)\r\n * @author Johan Meester <walter.doodah@gmail.com>\r\n * @licence MIT - http://opensource.org/licenses/MIT\r\n * @copyright Johan Meester 2016\r\n */\r\n(function (w) {\r\n  const DOC = w.document;\r\n\r\n  const NAV = DOC.querySelector('.c-greedy-nav');\r\n  const VISIBLE_LIST = NAV.querySelector('.c-greedy-nav__list--visible');\r\n  const OVERFLOW_LIST = NAV.querySelector('.c-greedy-nav__overflow-list');\r\n  const VIEW_MORE_ITEM = NAV.querySelector('.c-greedy-nav__list--show-more');\r\n  const VIEW_MORE_BUTTON = NAV.querySelector('.c-greedy-nav__btn--show-more');\r\n  const FIXED_BUTTON = NAV.querySelector('.c-greedy-nav__fixed');\r\n  const SPACE_BETWEEN_ITEMS = 0; // Set equal to stylesheet setting $c-greedy-nav-space-between-items\r\n  const BREAK_WIDTHS = [];\r\n\r\n  let numOfItems = 0;\r\n  let totalSpace = 0;\r\n\r\n  // Get current visible items and their dimensions\r\n  VISIBLE_LIST\r\n    .childNodes\r\n    .forEach((node) => {\r\n      if (node.nodeType === 1) {\r\n        totalSpace += node.offsetWidth;\r\n        numOfItems += 1;\r\n        BREAK_WIDTHS.push(totalSpace);\r\n      }\r\n    });\r\n\r\n  const TOTAL_SPACING = SPACE_BETWEEN_ITEMS * numOfItems;\r\n\r\n  let availableSpace;\r\n  let numOfVisibleItems;\r\n  let requiredSpace;\r\n\r\n  /** @function fitAndAdjust */\r\n  const fitAndAdjust = (function f() {\r\n    // Get current client width\r\n    availableSpace = NAV.clientWidth - FIXED_BUTTON.clientWidth - TOTAL_SPACING;\r\n\r\n    availableSpace -= VIEW_MORE_BUTTON.clientWidth;\r\n    if (VIEW_MORE_ITEM.classList.contains('s-greedy-nav-hidden')) {\r\n    }\r\n\r\n    numOfVisibleItems = VISIBLE_LIST.getElementsByTagName('li').length;\r\n    requiredSpace = BREAK_WIDTHS[numOfVisibleItems - 1];\r\n\r\n    if (requiredSpace > availableSpace) {\r\n      // There is not enough room\r\n      OVERFLOW_LIST.insertBefore(VISIBLE_LIST.lastChild, OVERFLOW_LIST.firstChild);\r\n      numOfVisibleItems -= 1;\r\n\r\n      // Check again\r\n      f();\r\n    } else if (availableSpace > BREAK_WIDTHS[numOfVisibleItems]) {\r\n      // More than enough room\r\n      VISIBLE_LIST.appendChild(OVERFLOW_LIST.firstChild);\r\n      numOfVisibleItems += 1;\r\n\r\n      // Check again\r\n      f();\r\n    }\r\n\r\n    // Update the 'view more' button\r\n    VIEW_MORE_BUTTON.dataset.count = numOfItems - numOfVisibleItems;\r\n\r\n    if (numOfVisibleItems === numOfItems) {\r\n      VIEW_MORE_ITEM.classList.add('s-greedy-nav-hidden');\r\n    } else {\r\n      VIEW_MORE_ITEM.classList.remove('s-greedy-nav-hidden');\r\n    }\r\n  });\r\n\r\n  // Listen for resize event\r\n  w.addEventListener('resize', fitAndAdjust, false);\r\n\r\n  // Listen for click event\r\n  w.addEventListener('click', (ev) => {\r\n    if (ev.target.classList.contains('c-greedy-nav__btn--show-more') || ev.target.parentNode.classList.contains('c-greedy-nav__btn--show-more')) {\r\n      OVERFLOW_LIST.classList.toggle('s-greedy-nav-hidden');\r\n    } else {\r\n      OVERFLOW_LIST.classList.add('s-greedy-nav-hidden');\r\n    }\r\n  });\r\n\r\n  OVERFLOW_LIST.addEventListener('click', (ev) => {\r\n    ev.stopPropagation();\r\n  }, false);\r\n\r\n  fitAndAdjust();\r\n}(typeof global !== 'undefined' ? global : window));\r\n"]}